
var WebChannel=function(e,t){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function r(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function a(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var d,l,c=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),u=function(){function e(){}return e.isCrossDomainFrame=function(){if(window.parent===window)return!1;var e=new URL(window.document.referrer);return e.protocol!==window.location.protocol||e.hostname!==window.location.hostname||e.port!==window.location.port},e.getBrowserWidth=function(){var t,n=e.isCrossDomainFrame()?window:window.top||window,i=n.outerWidth||9999;return t=void 0!==n.innerWidth?n.innerWidth:void 0!==n.document.documentElement&&void 0!==n.document.documentElement.clientWidth&&0!==n.document.documentElement.clientWidth?n.document.documentElement.clientWidth:n.document.body.clientWidth,Math.min(t,i)},e.getBrowserHeight=function(){var t,n=e.isCrossDomainFrame()?window:window.top||window,i=n.outerHeight||9999;return t=void 0!==n.innerHeight?n.innerHeight:void 0!==n.document.documentElement&&void 0!==n.document.documentElement.clientHeight&&0!==n.document.documentElement.clientHeight?n.document.documentElement.clientHeight:n.document.body.clientHeight,Math.min(t,i)},e.isInterstitial=function(e){return e.ortb2Imp&&e.ortb2Imp.instl&&1===e.ortb2Imp.instl},e.filterAdUnitSizes=function(t,n,i,o){var r=n.mediaTypes||{},s=e.isInterstitial(n);i=i||e.getBrowserWidth(),o=o||e.getBrowserHeight(),r.banner&&(Array.isArray(r.banner.sizes)&&r.banner.sizes.length>0||(r.banner.sizes=t.banner),s&&(i*=.9,o*=.9),r.banner.sizes=e.filterSizesArray(r.banner.sizes,i,o)),r.video&&(r.video.playerSize&&Array.isArray(r.video.playerSize)&&r.video.playerSize.length>0||(r.video.playerSize=e.filterSizesArray(t.video,i,o)[0]))},e.generateUUID=function(){if(window.crypto&&window.crypto.randomUUID)return window.crypto.randomUUID();var e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===n?i:3&i|8).toString(16)}))},e.loadScript=function(e){var t=document.createElement("script");return t.type="text/javascript",t.async=!0,t.src=e,document.head.appendChild(t)},e.loadGPT=function(t){if(!e.gptLoaded){if(window.googletag&&window.googletag.apiReady)return;var n=e.DEFAULT_GPT_URL,i=e.DEFAULT_PUBADS_URL;t&&(t.url&&(n=t.url),t.pubadsUrl&&(i=t.pubadsUrl)),e.loadScript(n),e.loadScript(i),e.gptLoaded=!0}},e.loadPrebid=function(t){if(!e.prebidLoaded){var n=e.DEFAULT_PREBID_URL;t&&t.url&&(n=t.url),e.loadScript(n),e.prebidLoaded=!0}},e.loadIMA=function(t){if(!e.imaLoaded){var n=e.DEFAULT_IMA_URL;t&&t.url&&(n=t.url);var i=e.loadScript(n);i.onerror=function(t){e.imaReady.reject(t)},i.onload=function(){e.imaReady.resolve()},e.imaLoaded=!0}},e.loadApsTag=function(t){!e.apsTagLoaded&&t&&t.pubID&&(!function(e,n,i,o,r,s,a){function d(t,i){n[e]._Q.push([t,i])}n[e]||(n[e]={init:function(){d("i",arguments)},fetchBids:function(){d("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(s=i.createElement(o)).async=!0,s.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=i.getElementsByTagName(o)[0]).parentNode.insertBefore(s,a),n[e].init({pubID:t.pubID,adServer:"googletag",videoAdServer:"DFP"}))}("apstag",window,document,"script"),e.apsTagLoaded=!0)},e.onIMAReady=function(){return this.imaReady.promise},e.initializePrebid=function(t){var n=(t=t||{}).config||{},i=t.analytics||{},o=e.getPrebidS2SAliases(null==n?void 0:n.s2sConfig);o&&o.length&&window.pbjs.que.push((function(){o.forEach((function(e){var t;null===(t=window.pbjs)||void 0===t||t.aliasBidder(e.bidder,e.alias)}))})),window.pbjs.que.push((function(){e.prebidInitialized||(i&&i.enabled&&window.pbjs.que.push((function(){window.pbjs.enableAnalytics({provider:i.provider,options:i.options})})),window.pbjs.setConfig(n),e.prebidInitialized=!0)}))},e.setPrebidPageUrl=function(e){e&&window.pbjs&&window.pbjs.que&&window.pbjs.que.push((function(){window.pbjs.setConfig({pageUrl:e})}))},e.addPrebidAdUnit=function(e){window.pbjs.que.push((function(){window.pbjs.addAdUnits(e)}))},e.stringToHTMLElement=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},e.isIMAPresent=function(){return window.google&&window.google.ima},e.toUrlQueryParameters=function(e){var t=[];for(var n in e)({}).hasOwnProperty.call(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e.extractParamsFromUrl=function(t){var n=t.split("?");return 2===n.length?e.parseParameters(n[1]):{}},e.parseParameters=function(e){return function(e){var t={};return e.replace(/([^=&]+)=([^&]*)/g,(function(e,n,i){var o=decodeURIComponent(i);o&&"undefined"!==o&&(t[decodeURIComponent(n)]=decodeURIComponent(i))})),t}(e)},e.isHTMLElementInViewport=function(e){if(!e)return!1;if(window){var t=e.getBoundingClientRect(),n=window.innerHeight||window.document.documentElement.clientHeight,i=window.innerWidth||window.document.documentElement.clientWidth,o=t.top<=n&&t.top+t.height>=0,r=t.left<=i&&t.left+t.width>=0;return t.bottom>0&&t.right>0&&o&&r}return!1},e.isHTMLElementVisible=function(t){return!!t&&(!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&e.isHTMLElementInViewport(t))},e.isTabVisible=function(){var e;return"hidden"!==(null===(e=null===window||void 0===window?void 0:window.document)||void 0===e?void 0:e.visibilityState)},e.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.toUAMAdUnit=function(t){var n,i,o,r,s=e.isFunction(t.code)?t.code():t.code;return{slotName:s,slotID:s,sizes:(null===(i=null===(n=t.mediaTypes)||void 0===n?void 0:n.banner)||void 0===i?void 0:i.sizes)||[].concat(null===(r=null===(o=t.mediaTypes)||void 0===o?void 0:o.video)||void 0===r?void 0:r.playerSize)}},e.mergeVendorConsents=function(e,t){null!=e||(e={}),null!=t||(t={});var n=o(o({},e),t);return Object.keys(n).forEach((function(i){n[i]=!!e[i]||!!t[i]})),n},e.adUnitPath2NetworkAndCode=function(e){var t=(e||"").split("/").filter(Boolean);return t.length>=2?{network:t[0],code:t[t.length-1]}:null},e.getPrebidS2SAliases=function(e){var t=[];return e&&e.length&&e.forEach((function(e){var n;if(e.enabled&&(null===(n=e.extPrebid)||void 0===n?void 0:n.aliases)){var i=Object.keys(e.extPrebid.aliases).map((function(t){return{bidder:e.extPrebid.aliases[t],alias:t}}));t=t.concat(i)}})),t},e.filterSizesArray=function(e,t,n){var i=[];return e.forEach((function(e){e[0]<=t&&e[1]<=n&&i.push(e)})),i},e.imaReady=new c,e.GOOGLE_VENDOR_ID=755,e.TCF_P1_CONSENT=1,e.TCF_P4_CONSENT=4,e.DEFAULT_GPT_URL="https://cdn.frvr.com/fran/gpt_2021120601.js",e.DEFAULT_PUBADS_URL="https://cdn.frvr.com/fran/pubads_2021120601.js",e.DEFAULT_PREBID_URL="https://cdn.frvr.com/fran/prebid.6.9.0.js",e.DEFAULT_IMA_URL="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.prebidLoaded=!1,e.prebidInitialized=!1,e.gptLoaded=!1,e.imaLoaded=!1,e.apsTagLoaded=!1,e}();!function(e){e.INTERSTITIAL="interstitial",e.REWARD="reward",e.BANNER="banner"}(l||(l={})),(d={})[l.INTERSTITIAL]={stopsGameFlow:!0,throttleable:!0},d[l.REWARD]={stopsGameFlow:!0,throttleable:!1},d[l.BANNER]={stopsGameFlow:!1,throttleable:!1};var h,p={log:function(){},error:function(){},warn:function(){},info:function(){},debug:function(){}},g=function(){function e(e){var t=e.provider,n=e.logger;this.provider=t,this.logger=n||p}return e.prototype.setItems=function(e){var t=e.map((function(e){var t=e.key,n=e.value;return{key:t,value:JSON.stringify(n)}}));return this.provider.setItems(t)},e.prototype.getItems=function(e){return r(this,void 0,void 0,(function(){var t,n,i;return s(this,(function(o){switch(o.label){case 0:return[4,this.provider.getItems(e)];case 1:for(i in t=o.sent(),n={},t)try{n[i]=JSON.parse(t[i])}catch(e){this.logger.error("[storage] parsing error on key ".concat(i),e.message)}return[2,n]}}))}))},e.prototype.removeItems=function(e){return this.provider.removeItems(e)},e.prototype.setItem=function(e,t){return this.provider.setItems([{key:e,value:JSON.stringify(t)}])},e.prototype.getItem=function(e,t){return r(this,void 0,void 0,(function(){var n,i,o;return s(this,(function(r){switch(r.label){case 0:return[4,this.provider.getItems([e])];case 1:n=r.sent();try{o=n[e],i=void 0!==o?JSON.parse(o):t}catch(t){this.logger.error("[storage] parsing error on key ".concat(e),t.message)}return[2,i]}}))}))},e.prototype.removeItem=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.provider.removeItems([e])]}))}))},e.prototype.isPersistent=function(){return this.provider.isPersistent()},e}(),f=function(){function e(){this.values={}}return e.prototype.setItems=function(e){return r(this,void 0,void 0,(function(){var t,n,i;return s(this,(function(o){for(t=0,n=e;t<n.length;t++)i=n[t],this.values[i.key]=i.value;return[2]}))}))},e.prototype.getItems=function(e){return r(this,void 0,void 0,(function(){var t,n,i,o,r;return s(this,(function(s){for(t={},n=0,i=e;n<i.length;n++)o=i[n],void 0!==(r=this.values[o])&&(t[o]=r);return[2,t]}))}))},e.prototype.removeItems=function(e){return r(this,void 0,void 0,(function(){var t,n,i;return s(this,(function(o){for(t=0,n=e;t<n.length;t++)i=n[t],delete this.values[i];return[2]}))}))},e.prototype.isPersistent=function(){return!1},e.providerName="memory",e}();new g({provider:new f}),function(e){e[e.None=0]="None",e[e.P1StoreInformationOnADevice=2]="P1StoreInformationOnADevice",e[e.P2SelectBasicAds=4]="P2SelectBasicAds",e[e.P3PersonalizedAdsProfile=8]="P3PersonalizedAdsProfile",e[e.P4PersonalizedAds=16]="P4PersonalizedAds",e[e.P5PersonalizedContentProfile=32]="P5PersonalizedContentProfile",e[e.P6PersonalizedContent=64]="P6PersonalizedContent",e[e.P7MeasureAdPerformance=128]="P7MeasureAdPerformance",e[e.P8MeasureContentPerformance=256]="P8MeasureContentPerformance",e[e.P9MarketResearchForAudienceInsights=512]="P9MarketResearchForAudienceInsights",e[e.P10DevelopAndImproveProducts=1024]="P10DevelopAndImproveProducts",e[e.All=2046]="All"}(h||(h={}));var v,m,w,y,b,A={consentToTerms:function(){},onConsentChanged:function(e){},hasConsentForAll:function(e){return!0},hasConsentForAny:function(e){return!0},consents:function(){return h.All},legitimateInterests:function(){return h.All},hasLoaded:function(){return!0}};!function(e){e.AD_CLOSED="adclosed",e.AD_LEAVING_APPLICATION="adleavingapplication",e.CANCELED="canceled",e.ERROR="error",e.INTERNAL_ERROR="internalerror",e.INVALID_REQUEST="invalidrequest",e.NETWORK_ERROR="networkerror",e.NOFILL="nofill",e.SUCCESS="success",e.THROTTLED="throttled",e.TIMEOUT="timeout"}(m||(m={})),function(e){e.ERROR="error",e.NOFILL="nofill",e.SKIPPED="skipped",e.SUCCESS="success",e.TIMEDOUT="timedout"}(w||(w={})),(v={})[l.INTERSTITIAL]="mandatory",v[l.REWARD]="rewarded",function(e){e.DELIVERED="delivered",e.COMPLETED="completed"}(y||(y={})),function(e){e.ON_LOAD="on_load",e.ON_SHOW="on_show",e.BLOCKED="blocked",e.NOFILL="nofill"}(b||(b={}));var P,E,S,T,I=function(){function e(e){this.type=e}return e.prototype.getName=function(){return"dev"},e.prototype.getType=function(){return this.type},e.prototype.isReady=function(){return!0},e.prototype.useManualControl=function(){return!1},e.prototype.init=function(e,t,n){var i=this;return this.tracker=n,new Promise((function(e){setTimeout((function(){console.log("[dev] ".concat(i.type," ad initialised")),e()}),100)}))},e.prototype.show=function(){var e,t,n,i,o;null===(e=this.tracker)||void 0===e||e.requestingAd(),null===(t=this.tracker)||void 0===t||t.receivedAdResponse(m.SUCCESS),null===(n=this.tracker)||void 0===n||n.willShowAd(!1),console.log("[dev] ".concat(this.type," ad displayed"));var r=confirm("Want to check out this ad?");r?(console.log("[dev] ".concat(this.type," ad checked")),null===(i=this.tracker)||void 0===i||i.finishedAd(w.SUCCESS)):(console.log("[dev] ".concat(this.type," ad skipped/dismissed")),null===(o=this.tracker)||void 0===o||o.finishedAd(w.SKIPPED));var s={success:!0,code:r?y.COMPLETED:y.DELIVERED};return Promise.resolve(s)},e}();!function(e){function t(){return e.call(this,l.INTERSTITIAL)||this}i(t,e)}(I),function(e){function t(){return e.call(this,l.REWARD)||this}i(t,e)}(I),function(e){e[e.NO_THROTTLING=0]="NO_THROTTLING",e.INIT_TIME="INIT_TIME",e.FREQUENCY="FREQUENCY"}(P||(P={})),function(e){e.NOT_DISPLAYED="not_displayed",e.DELIVERED="delivered",e.COMPLETED="completed"}(E||(E={})),function(e){e.DISPLAY="display",e.VIDEO="video"}(S||(S={})),function(e){e.IDFA="idfa",e.GAID="gaid",e.SAMSUNG="tifa"}(T||(T={}));var C=function(){function e(){}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug(JSON.stringify(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error(JSON.stringify(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info(JSON.stringify(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log(JSON.stringify(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn(JSON.stringify(e))},e}();window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var U=function(){function e(e,t,n){this.PROVIDER="fran",this.DEFAULT_REFRESH_INTERVAL=61e3,this.hasP1Consent=!0,this.hasP4Consent=!0,this.isInitialized=!1,this.isAdAvailable=!1,this.isPreloadingAd=!1,this.defaultSizes={banner:[[1024,768],[768,1024],[480,320],[336,280],[320,480],[300,600],[300,250],[250,250],[728,90]],video:[[1024,768],[768,1024],[640,480],[640,390],[640,360],[480,320],[400,300],[400,225],[390,640],[320,480]]},this.volume=1,this.defaultTimeoutMS=2500,this.preloadTimeout=null,this.type=e,this.mediaType=t,this.logger=n||new C}return e.prototype.getName=function(){return this.PROVIDER+"#"+this.mediaType},e.prototype.getType=function(){return this.type},e.prototype.useManualControl=function(){return!1},e.prototype.init=function(e,t,n){var i,o,a,d,c,h,p;return r(this,void 0,void 0,(function(){var r,g=this;return s(this,(function(s){if(this.controls=t,this.tracker=n,!((r=e.config).adUnit||r.adUnits&&Array.isArray(r.adUnits)&&0!==r.adUnits.length))throw null===(i=this.logger)||void 0===i||i.error("".concat(this.getFullName(),": adUnit or adUnits is required")),new Error("".concat(this.getFullName(),": adUnit or adUnits is required"));return r.adUnit&&(null!==(o=(h=r.adUnit).timeout)&&void 0!==o||(h.timeout=(null===(d=null===(a=null===window||void 0===window?void 0:window.pbjs)||void 0===a?void 0:a.getConfig)||void 0===d?void 0:d.call(a,"bidderTimeout"))||this.defaultTimeoutMS),r.adUnit.code=u.isFunction(r.adUnit.code)?r.adUnit.code():r.adUnit.code,null!==(c=(p=r.adUnit).uam)&&void 0!==c||(p.uam=!!window.apstag)),r.adUnits&&r.adUnits.forEach((function(e){return e.code=u.isFunction(e.code)?e.code():e.code})),this.config=JSON.parse(JSON.stringify(r)),this.adUnit=r.adUnit,this.adUnits=this.config.adUnits,window.addEventListener("resize",(function(){g.reset()})),this.adUnit&&this.type!=l.BANNER&&u.filterAdUnitSizes(this.defaultSizes,this.adUnit),this.isInitialized=!0,[2]}))}))},e.prototype.show=function(){var e,t;return r(this,void 0,void 0,(function(){return s(this,(function(n){return this.isInitialized?this.isAdAvailable?[2,{success:!0,code:y.COMPLETED}]:(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": no ad available")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": no ad available")}]):(null===(e=this.logger)||void 0===e||e.error("".concat(this.getFullName(),": not initialized, call init()")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": not initialized, call init()")}])}))}))},e.prototype.preload=function(){var e,t,n;return r(this,void 0,void 0,(function(){var i=this;return s(this,(function(o){return this.isInitialized?this.isAdAvailable?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": an ad is already available")),[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": an ad is already available")}]):(this.isPreloadingAd||(this.isAdAvailable=!1,this.isPreloadingAd=!0,setTimeout((function(){i.isPreloadingAd&&i.reset()}),5e3),null===(n=this.logger)||void 0===n||n.debug("".concat(this.getFullName(),": preloading ad"))),[2,{success:!0,code:y.DELIVERED}]):(null===(e=this.logger)||void 0===e||e.error("".concat(this.getFullName(),": not initialized, call init()")),[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": not initialized, call init()")}])}))}))},e.prototype.reset=function(){this.isPreloadingAd=!1,this.isAdAvailable=!1},e.prototype.getFullName=function(){return this.getName()+"#"+this.getType()},e.prototype.getMediaType=function(){return this.mediaType},e.prototype.getUserP1Consent=function(){return this.hasP1Consent},e.prototype.setUserP1Consent=function(e){this.hasP1Consent=e},e.prototype.getUserP4Consent=function(){return this.hasP1Consent},e.prototype.setUserP4Consent=function(e){this.hasP4Consent=e},e.prototype.getVendorConsent=function(e){return!this.vendorConsents||this.vendorConsents[e]},e.prototype.setVendorConsents=function(e){this.vendorConsents=e},e.prototype.setDeviceId=function(e){this.deviceId=e},e.prototype.getDeviceIdTargeting=function(){if(!this.deviceId)return null;var e={rdid:this.deviceId.value,is_lat:this.getUserP1Consent()?"0":"1"};switch(this.deviceId.type){case T.IDFA:return e.idtype="idfa",e;case T.GAID:return e.idtype="adid",e;case T.SAMSUNG:return e.idtype="tifa",e;default:return null}},e.prototype.getVolume=function(){return this.volume},e.prototype.setVolume=function(e){(e<0||e>1)&&(e=1),this.volume=e},e.prototype.getAdUnitCode=function(){return this.adUnit?u.isFunction(this.adUnit.code)?this.adUnit.code():this.adUnit.code:this.adUnits?this.adUnits.map((function(e){return e.code})).join(","):void 0},e}(),L=function(e){function t(t,n){var i=e.call(this,t,S.DISPLAY,n)||this;return i.adPreloading=null,i.adSlot=null,i}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){var o=this;return s(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return r.sent(),window.googletag.cmd.push((function(){o.config.pageUrl&&window.googletag.pubads().set("page_url",o.config.pageUrl),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t,n,i,r;o.adSlot===e.slot&&(o.isAdAvailable=!e.isEmpty,o.isPreloadingAd=!1,o.isAdAvailable?(null===(t=o.logger)||void 0===t||t.debug("".concat(o.getFullName(),": ad filled")),null===(n=o.tracker)||void 0===n||n.receivedAdResponse(m.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting())):(null===(i=o.logger)||void 0===i||i.debug("".concat(o.getFullName(),": unable to load ad")),null===(r=o.tracker)||void 0===r||r.receivedAdResponse(m.NOFILL,o.getAdUnitCode(),o.getAdSlotTargeting()),o.adPreloading&&(o.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(o.getFullName(),": unable to load ad")}),o.adPreloading=null)))})),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),o.config.pageUrl&&u.setPrebidPageUrl(o.config.pageUrl)})),[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.adSlot&&window.googletag.destroySlots([this.adSlot]),this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.isReady=function(){return u.gptLoaded},t.prototype.setTargeting=function(e){var t;this.adSlot&&((null===(t=this.config)||void 0===t?void 0:t.customTargeting)&&this.addAdSlotTargeting(this.config.customTargeting),this.deviceId&&this.addAdSlotTargeting(this.getDeviceIdTargeting()),e&&this.addAdSlotTargeting(e))},t.prototype.getAdSlotTargeting=function(){if(this.adSlot&&this.adSlot.getTargetingMap()){var e={},t=this.adSlot.getTargetingMap();for(var n in t)if({}.hasOwnProperty.call(t,n)){var i=t[n];e[n]=Array.isArray(i)?i.join():i}return e}return{}},t.prototype.addAdSlotTargeting=function(e){if(e&&"object"==typeof e&&this.adSlot&&this.adSlot.setTargeting)for(var t in e)e.hasOwnProperty(t)&&this.adSlot.setTargeting(t,e[t])},t}(U),D=function(e){function t(t){var n=e.call(this,l.INTERSTITIAL,t)||this;return n.adShownPromise=null,n}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){var o=this;return s(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:if(r.sent(),this.clearStorage(),this.at=this.addDOMElements(),!this.at)throw this.isInitialized=!1,new Error("".concat(this.getFullName(),": unable to add required dom elements"));return window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){o.adSlot===e.slot&&(o.isAdAvailable=!e.isEmpty,o.isAdAvailable&&o.adPreloading&&(o.adPreloading.resolve({success:!0,code:y.DELIVERED}),o.adPreloading=null))}))})),window.addEventListener("gpt-interstitial-ad-closed",(function(){var e,t;if(o.isAdAvailable=!1,null===(e=o.tracker)||void 0===e||e.finishedAd(w.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting()),o.adShownPromise){var n={success:!0,code:y.COMPLETED};o.adShownPromise.resolve(n),o.adShownPromise=null}null===(t=o.logger)||void 0===t||t.debug("".concat(o.getFullName(),": ad closed"))})),u.addPrebidAdUnit(this.adUnit),[2]}}))}))},t.prototype.preload=function(){var t,n;return r(this,void 0,void 0,(function(){var i,o,r,a,d,l,h,p=this;return s(this,(function(s){switch(s.label){case 0:return[4,e.prototype.preload.call(this)];case 1:return(i=s.sent())&&i.success?this.getUserP1Consent()&&this.getVendorConsent(u.GOOGLE_VENDOR_ID)?this.adPreloading?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}]):(o={aps:!1,prebid:!1},r=u.generateUUID(),a=function(){o.aps&&o.prebid&&d()},d=function(){window.googletag.cmd.push((function(){var e;window.googletag.pubads().setRequestNonPersonalizedAds(p.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!p.getUserP1Consent()});try{p.setTargeting({hb_aid:r}),window.googletag.pubads().refresh([p.adSlot])}catch(t){p.isPreloadingAd=!1,p.isAdAvailable=!1,null===(e=p.logger)||void 0===e||e.error(t),p.adPreloading&&(p.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(p.getFullName(),": unable to send request to ad server - ").concat(t)}),p.adPreloading=null)}}))},l=function(){if(!(p.adUnit&&p.adUnit.bids&&p.adUnit.bids.length&&window.pbjs))return o.prebid=!0,void a();window.pbjs.que.push((function(){var e={auctionId:r,timeout:p.adUnit.timeout,adUnits:[p.adUnit],bidsBackHandler:function(){window.pbjs.initAdserverSet=!0,window.pbjs.setTargetingForGPTAsync(),o.prebid=!0,a()}};try{window.pbjs.requestBids(e)}catch(e){o.prebid=!0,a()}}))},h=function(){if(!(p.adUnit&&p.adUnit.uam&&window.apstag))return o.aps=!0,void a();var e=u.toUAMAdUnit(p.adUnit);e.slotID=p.adSlot.getSlotElementId(),window.apstag.fetchBids({slots:[e],timeout:p.adUnit.timeout},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),o.aps=!0,a()}))}))},null===(n=this.tracker)||void 0===n||n.requestingAd(this.getAdUnitCode(),{hb_aid:r}),window.googletag.cmd.push((function(){var e;if(window.googletag.destroySlots([p.adSlot]),p.adSlot=window.googletag.defineOutOfPageSlot(p.getAdUnitCode(),window.googletag.enums.OutOfPageFormat.INTERSTITIAL),!p.adSlot)return null===(e=p.logger)||void 0===e||e.debug("".concat(p.getFullName(),": unable to create ad slot")),p.isPreloadingAd=!1,p.isAdAvailable=!1,void(p.adPreloading&&(p.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(p.getFullName(),": unable to create ad slot")}),p.adPreloading=null));p.adSlot.addService(window.googletag.pubads()),l(),h()})),this.adPreloading=new c,[2,this.adPreloading.promise]):[2,{success:!1,code:b.ON_SHOW,message:"missing required vendor consent"}]:[2,i]}}))}))},t.prototype.show=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent())&&e.success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adShownPromise){var t={success:!0,code:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.canPreload=function(){return!0},t.prototype.showAd=function(){var t,n;return r(this,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(i=o.sent())&&i.success?this.at?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):(null===(n=this.tracker)||void 0===n||n.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotTargeting()),this.at.click(),this.adShownPromise=new c,[2,this.adShownPromise.promise]):[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": missing required dom elements")}]:[2,i]}}))}))},t.prototype.addDOMElements=function(){var e=this,t=document.createElement("a");return t.id=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),t.href="#",t.setAttribute("data-google-interstitial","true"),t.setAttribute("tabindex","-1"),t.onclick=function(){e.clearStorage()},document.body.appendChild(t)},t.prototype.clearStorage=function(){var e;try{localStorage.removeItem("__lsv__")}catch(t){null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": unable to clear storage"))}},t}(L),N=function(e){function t(t){var n=e.call(this,l.REWARD,t)||this;return n.rewardSlotEvent=null,n.skipped=!0,n.adShownPromise=null,n}return i(t,e),t.prototype.canPreload=function(){return!0},t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){var o=this;return s(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return r.sent(),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("rewardedSlotReady",(function(e){o.rewardSlotEvent=e,o.adPreloading&&(o.adPreloading.resolve({success:!0,code:y.DELIVERED}),o.adPreloading=null)})),window.googletag.pubads().addEventListener("rewardedSlotGranted",(function(){o.skipped=!1})),window.googletag.pubads().addEventListener("rewardedSlotClosed",(function(){var e,t;if(o.isAdAvailable=!1,null===(e=o.logger)||void 0===e||e.debug("".concat(o.getFullName(),": ad closed, skipped? ").concat(o.skipped)),null===(t=o.tracker)||void 0===t||t.finishedAd(o.skipped?w.SKIPPED:w.SUCCESS,o.getAdUnitCode()),o.adShownPromise){var n={success:!0,code:o.skipped?y.DELIVERED:y.COMPLETED};o.adShownPromise.resolve(n),o.adShownPromise=null}o.skipped=!0,o.rewardSlotEvent=null}))})),[2]}}))}))},t.prototype.preload=function(){var t;return r(this,void 0,void 0,(function(){var n,i=this;return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.preload.call(this)];case 1:return(n=o.sent())&&n.success?this.adPreloading?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}]):(this.rewardSlotEvent=null,this.skipped=!0,window.googletag.cmd.push((function(){var e,t;try{window.googletag.pubads().setRequestNonPersonalizedAds(i.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!i.getUserP1Consent()}),window.googletag.destroySlots([i.adSlot]),i.adSlot=window.googletag.defineOutOfPageSlot(i.getAdUnitCode(),window.googletag.enums.OutOfPageFormat.REWARDED),i.adSlot.addService(window.googletag.pubads()),i.setTargeting(),null===(e=i.tracker)||void 0===e||e.requestingAd(i.getAdUnitCode()),window.googletag.pubads().refresh([i.adSlot])}catch(e){i.reset(),null===(t=i.logger)||void 0===t||t.error({success:!1,code:b.ON_LOAD,message:JSON.stringify(e)}),i.adPreloading&&(i.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(i.getFullName(),": unable to send request to ad server - ").concat(e)}),i.adPreloading=null)}})),this.adPreloading=new c,[2,this.adPreloading.promise]):[2,n]}}))}))},t.prototype.show=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent())&&e.success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adShownPromise){var t={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to load ad")}),this.adPreloading=null)},t.prototype.showAd=function(){var t,n;return r(this,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(i=o.sent())&&i.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):this.rewardSlotEvent?(null===(n=this.tracker)||void 0===n||n.willShowAd(!0,this.getAdUnitCode()),this.rewardSlotEvent.makeRewardedVisible(),this.adShownPromise=new c,[2,this.adShownPromise.promise]):[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": failed to render ad")}]:[2,i]}}))}))},t}(L),R=function(){function e(e){this.wrapperElement=null,this.videoElement=null,this.adElement=null,this.playing=!1,this.videoPlayerConfig=null,this.onToggleCallbacks=[],this.toggleVideoElement=null,this.videoPlayerConfig=e,this.createHTMLElements()}return e.prototype.createHTMLElements=function(){var e=this;this.wrapperElement=u.stringToHTMLElement("<div></div>");var t='<div><video id="'+this.videoPlayerConfig.id+'" width="'+this.getPlayerWidth()+'px" height="'+this.getPlayerHeight()+'px" playsinline></video></div>',n=u.stringToHTMLElement(t);this.videoElement=n.firstChild,this.adElement=u.stringToHTMLElement("<div style='position: absolute; top:0; min-width: 100%; min-height: 100%;'></div>"),this.toggleVideoElement=u.stringToHTMLElement("<button title='Play/Pause' style='position: absolute;left: 20px;bottom: 20px;height: 40px;width: 100px;font-weight: bold;font-size: 25px; font-family: sans-serif !important; opacity: 0.5;background-color: #fff;border-radius: 5px;border: 1px transparent solid;color: #000;cursor: pointer;line-height: 0;'>II</button>"),this.toggleVideoElement.onclick=function(){e.toggled()},this.wrapperElement.appendChild(n),this.wrapperElement.appendChild(this.adElement),this.wrapperElement.appendChild(this.toggleVideoElement)},e.prototype.toggled=function(){var e=this;this.playing?this.toggleVideoElement.textContent=String.fromCharCode(9654):this.toggleVideoElement.textContent="II",this.onToggleCallbacks&&this.onToggleCallbacks.length>0&&this.onToggleCallbacks.forEach((function(t){try{t(e.playing)}catch(e){console.error(e)}})),this.playing=!this.playing},e.prototype.paused=function(){this.playing=!1,this.toggleVideoElement.textContent=String.fromCharCode(9654)},e.prototype.resumed=function(){this.playing=!0,this.toggleVideoElement.textContent="II"},e.prototype.resize=function(){this.videoElement&&(this.videoElement.setAttribute("width",this.getPlayerWidth()+"px"),this.videoElement.setAttribute("height",this.getPlayerHeight()+"px"))},e.prototype.getVideoHTMLElement=function(){return this.videoElement},e.prototype.getAdContainerHTMLElement=function(){return this.adElement},e.prototype.getHTMLWrapper=function(){return this.wrapperElement},e.prototype.isPlaying=function(){return this.playing},e.prototype.getPlayerWidth=function(){return this.videoPlayerConfig.width||u.getBrowserWidth()},e.prototype.getPlayerHeight=function(){return this.videoPlayerConfig.height||u.getBrowserHeight()},e.prototype.onToggle=function(e){this.onToggleCallbacks.push(e)},e}(),M=function(e){function t(t,n){var i=e.call(this,t,S.VIDEO,n)||this;return i.adsManager=null,i.adsLoader=null,i.adContainer=null,i.skipped=!0,i.isIMAReady=!1,i.adShownPromise=null,i.adPreloading=null,i.videoPlayer=null,i}return i(t,e),t.prototype.init=function(n,i,o){return r(this,void 0,void 0,(function(){var r=this;return s(this,(function(s){switch(s.label){case 0:return[4,e.prototype.init.call(this,n,i,o)];case 1:return s.sent(),u.onIMAReady().then((function(){r.isIMAReady=!0})),this.videoPlayer=t.buildVideoPlayer(this.adUnit,l.INTERSTITIAL===this.getType()||l.REWARD===this.getType()),this.videoPlayer&&(this.videoPlayer.onToggle((function(e){r.adsManager&&(e?r.adsManager.pause():r.adsManager.resume())})),u.addPrebidAdUnit(this.adUnit),this.config.pageUrl&&u.setPrebidPageUrl(this.config.pageUrl)),[2]}}))}))},t.prototype.preload=function(){var t,n,i,a,d;return r(this,void 0,void 0,(function(){var r,l,h,p,g,f,v,m,w,A,P=this;return s(this,(function(s){switch(s.label){case 0:return[4,e.prototype.preload.call(this)];case 1:if((r=s.sent())&&r.success){if(!this.isIMAReady)return null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": unable to preload, ima sdk isn't ready yet")),this.isAdAvailable=!1,this.isPreloadingAd=!1,[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload, ima sdk isn't ready yet")}];if(!this.adsLoader&&!this.initializeIMAComponents())return null===(n=this.logger)||void 0===n||n.debug("".concat(this.getFullName(),": unable to initialize ima")),this.isAdAvailable=!1,this.isPreloadingAd=!1,[2,{success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),":unable to initialize ima")}];if(this.adPreloading)return null===(i=this.logger)||void 0===i||i.debug("".concat(this.getFullName(),": already loading an ad")),[2,{success:!0,code:y.DELIVERED}];l=this.adUnit,h=u.generateUUID(),p=this.config.customTargeting||{},g={aps:!1,apsVideoTargeting:null,prebid:!1},f=function(){g.aps&&g.prebid&&v(m())},v=function(e){try{var t=new window.google.ima.AdsRequest;t.adTagUrl=e,P.config.pageUrl&&(t.pageUrl=P.config.pageUrl),t.linearAdSlotWidth=P.adUnit.mediaTypes.video.playerSize[0],t.linearAdSlotHeight=P.adUnit.mediaTypes.video.playerSize[1],P.adsLoader.requestAds(t)}catch(e){P.isAdAvailable=!1,P.isPreloadingAd=!1,P.logger.error("".concat(P.getFullName(),": unable to send request to ad server - ").concat(e)),P.adPreloading&&(P.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(P.getFullName(),": unable to send request to ad server - ").concat(e)}),P.adPreloading=null)}},m=function(){var e,t,n,i,r=g.apsVideoTargeting?u.parseParameters(decodeURIComponent(g.apsVideoTargeting)):{},s={iu:P.getAdUnitCode(),cust_params:o(o(o({},p),{hb_aid:h}),r),output:"vast",vpmute:P.getVolume()>0?0:1};(null===(t=null===(e=P.adUnit.mediaTypes)||void 0===e?void 0:e.video)||void 0===t?void 0:t.maxduration)&&(s.max_ad_duration=1e3*P.adUnit.mediaTypes.video.maxduration),(null===(i=null===(n=P.adUnit.mediaTypes)||void 0===n?void 0:n.video)||void 0===i?void 0:i.minduration)&&(s.min_ad_duration=1e3*P.adUnit.mediaTypes.video.minduration),P.adUnit.mediaTypes.video.startdelay||(P.adUnit.mediaTypes.video.startdelay=0),P.config.pageUrl&&(s.url=P.config.pageUrl,s.description_url=P.config.pageUrl);var a=window.pbjs.adServers.dfp.buildVideoUrl({adUnit:l,params:s});return P.getUserP1Consent()||(a+="&ltd=1"),P.getUserP4Consent()||(a+="&npa=1"),P.getDeviceIdTargeting()&&(a+="&"+u.toUrlQueryParameters(P.getDeviceIdTargeting())),a},w=function(){if(!(P.adUnit&&P.adUnit.bids&&P.adUnit.bids.length&&window.pbjs))return g.prebid=!0,void f();window.pbjs.que.push((function(){var e={auctionId:h,adUnits:[l],timeout:P.adUnit.timeout,bidsBackHandler:function(){window.pbjs.initAdserverSet=!0,g.prebid=!0,f()}};try{window.pbjs.requestBids(e)}catch(e){g.prebid=!0,f()}}))},A=function(){if(!(P.adUnit&&P.adUnit.uam&&window.apstag))return g.aps=!0,void f();var e=u.adUnitPath2NetworkAndCode(P.getAdUnitCode());if(!e)return g.aps=!0,void f();var t,n={slotID:(t=e.code,t.replaceAll("_","").replaceAll("-","_")),slotName:e.code,mediaType:"video"};window.apstag.fetchBids({slots:[n],timeout:P.adUnit.timeout},(function(e){g.aps=!0,e&&e[0]&&(g.apsVideoTargeting=e[0].encodedQsParams),f()}))};try{null===(a=this.tracker)||void 0===a||a.requestingAd(this.getAdUnitCode(),{hb_aid:h}),w(),A()}catch(e){return null===(d=this.logger)||void 0===d||d.error(e),[2]}return this.adPreloading=new c,[2,this.adPreloading.promise]}return[2,r]}}))}))},t.prototype.show=function(){var t,n;return r(this,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.show.call(this)];case 1:return(i=o.sent())&&i.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already showing ad")),[2,{success:!0,code:y.COMPLETED}]):(null===(n=this.tracker)||void 0===n||n.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotParams()),this.adsManager.setVolume(this.getVolume()),this.adsManager.start(),this.adShownPromise=new c,[2,this.adShownPromise.promise]):[2,i]}}))}))},t.prototype.reset=function(){if(e.prototype.reset.call(this),this.adsManager&&this.adsManager.destroy(),this.videoPlayer&&this.videoPlayer.resize(),this.adShownPromise){var t={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(t),this.adShownPromise=null}if(this.adPreloading){t={success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")};this.adPreloading.resolve(t),this.adPreloading=null}},t.prototype.canPreload=function(){return!0},t.prototype.isReady=function(){return u.isIMAPresent()},t.prototype.isShowingAd=function(){return!!this.adShownPromise},t.prototype.initializeIMAComponents=function(){var e,t,n=this;if(!u.isIMAPresent())return null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": ima sdk not present")),!1;try{return window.google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adContainer=new window.google.ima.AdDisplayContainer(this.videoPlayer.getAdContainerHTMLElement(),this.videoPlayer.getVideoHTMLElement()),this.adContainer.initialize(),this.adsLoader=new window.google.ima.AdsLoader(this.adContainer),this.adsLoader.getSettings().setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){var t=new window.google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.adsManager=e.getAdsManager(n.videoPlayer.getVideoHTMLElement(),t),n.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,n.handleIMAError.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.CLICK,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.PAUSED,n.handleIMAEvent.bind(n)),n.adsManager.addEventListener(window.google.ima.AdEvent.Type.RESUMED,n.handleIMAEvent.bind(n));try{n.adsManager.init(n.videoPlayer.getPlayerWidth(),n.videoPlayer.getPlayerHeight(),window.google.ima.ViewMode.FULLSCREEN)}catch(e){n.handleIMAError(e)}}),!1),this.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,this.handleIMAError.bind(this),!1),!0}catch(e){null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": unable to initialize ima components - ").concat(e))}return!1},t.prototype.handleIMAEvent=function(e){var t,n;switch(e.type){case window.google.ima.AdEvent.Type.LOADED:null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": ad filled")),this.isAdAvailable=!0,this.isPreloadingAd=!1,null===(n=this.tracker)||void 0===n||n.receivedAdResponse(m.SUCCESS,this.getAdUnitCode(),this.getAdSlotParams()),this.adsLoader.__cad=e.getAd(),this.adPreloading&&(this.adPreloading.resolve({success:!0,code:y.DELIVERED}),this.adPreloading=null);break;case window.google.ima.AdEvent.Type.SKIPPED:this.skipped=!0,this.adClosed();break;case window.google.ima.AdEvent.Type.COMPLETE:this.skipped=!1,this.adClosed();break;case window.google.ima.AdEvent.Type.STARTED:this.skipped=!0,this.videoPlayer.resumed();break;case window.google.ima.AdEvent.Type.RESUMED:this.videoPlayer.resumed();break;case window.google.ima.AdEvent.Type.PAUSED:this.videoPlayer.paused();break;case window.google.ima.AdEvent.Type.CLICK:this.adsManager&&this.videoPlayer&&this.videoPlayer.isPlaying()&&(this.videoPlayer.paused(),this.adsManager.pause())}},t.prototype.handleIMAError=function(e){var t,n;if(e&&e.getError&&e.getError().getErrorCode&&1009===e.getError().getErrorCode())return null===(t=this.tracker)||void 0===t||t.receivedAdResponse(m.NOFILL,this.getAdUnitCode(),this.getAdSlotParams()),this.skipped=!0,this.isAdAvailable=!1,this.isPreloadingAd=!1,void(this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")}),this.adPreloading=null));if(this.adShownPromise){var i={success:!1,code:b.ON_SHOW,message:"".concat(e&&e.getError&&e.getError().getMessage?e.getError().getMessage():"")};this.adShownPromise.resolve(i),this.adShownPromise=null}this.adPreloading&&(this.adPreloading.resolve({success:!1,code:b.ON_LOAD,message:"".concat(this.getFullName(),": unable to preload ad")}),this.adPreloading=null),null===(n=this.logger)||void 0===n||n.error("".concat(this.getFullName(),": ").concat(e&&e.getError&&e.getError().getMessage?e.getError().getMessage():"unknown error")),this.reset()},t.prototype.adClosed=function(){var e,t;if(null===(e=this.logger)||void 0===e||e.debug("".concat(this.getFullName(),": ad closed, skipped? ").concat(this.skipped)),null===(t=this.tracker)||void 0===t||t.finishedAd(this.skipped?w.SKIPPED:w.SUCCESS,this.getAdUnitCode(),this.getAdSlotParams()),this.isAdAvailable=!1,this.videoPlayer.paused(),this.adShownPromise){var n={success:!0,code:this.skipped?y.DELIVERED:y.COMPLETED};this.adShownPromise.resolve(n),this.adShownPromise=null}},t.prototype.getAdSlotParams=function(){return this.adsLoader&&this.adsLoader.params?this.adsLoader.params:{}},t.buildVideoPlayer=function(e,t){var n={id:u.isFunction(e.code)?e.code():e.code};return t||(n.width=e.mediaTypes.video.playerSize[0],n.height=e.mediaTypes.video.playerSize[1]),new R(n)},t}(U),O=function(){function e(e){this.contentElement=null,this.modalElement=null,this.createHTMLElements(e)}return e.prototype.createHTMLElements=function(e){var t=document.createElement("div");t.style.cssText="visibility: hidden; position: fixed;top: 0;left: 0;height: 100%;width: 100%;z-index: 9223372036854775807;background-color: rgba(0,0,0,0.85);";var n=document.createElement("div");t.appendChild(n),n.style.cssText="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; margin: 0; padding: 0; outline: none;";var i=document.createElement("div");if(n.appendChild(i),i.style.cssText="position: relative; margin: 0; outline: none; background-color: #fff; box-shadow: 0px 8px 12px rgb(60 64 67 / 15%), 0px 4px 4px rgb(60 64 67 / 30%); border-radius: 5px;",e){var o=document.createElement("div");i.appendChild(o),o.style.cssText="width: 100%; display: table; height: 24px; background-color: #fff; margin: 0; padding: 0; outline: none;border-radius: 5px 5px 0px 0px;";var r=document.createElement("div");o.appendChild(r),r.style.cssText="float: left; display: table; transition: opacity 1s, background .75s; -webkit-transition: opacity 1s, background .75s; -moz-transition: opacity 1s, background .75s; -o-transition: opacity 1s, background .75s; background: transparent; color: #fff; padding-bottom: 10px; padding-top: 10px;",r.innerHTML="<div style=\"font-size: 14px; font-weight: 700; font-family: 'Roboto', arial, sans-serif; color: #202124; position: relative; height: 25px; padding: 2px 16px 0; float: left; display: table-cell; vertical-align: middle; text-align: center; line-height: 25px;\"> Ad </div>";var s=document.createElement("div");o.appendChild(s),s.style.cssText="color: black; opacity: 0.95; padding: 12px 20px 0; float: right; display: table-cell;vertical-align: middle;",s.setAttribute("aria-label","Close"),s.setAttribute("tabindex","1"),s.innerHTML='<div style="cursor: pointer; display: table-cell;vertical-align: middle;"><svg viewBox="0 0 48 48" fill="#5F6368" style="height: 1.5em; width: 1.5em; margin-left: -0.5em; margin-right: -0.5em; vertical-align: middle; padding-bottom: 1px;"><path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"></path><path d="M0 0h48v48H0z" fill="none"></path></svg></div>',s.onclick=this.close.bind(this)}var a=document.createElement("div");i.appendChild(a),a.style.cssText="transition: opacity 1s; -webkit-transition: opacity 1s; position: relative; margin: 0; padding: 0; outline: none; font-size: 0",this.contentElement=a,this.modalElement=t,document.body.appendChild(this.modalElement)},e.prototype.close=function(){this.modalElement.style.visibility="hidden"},e.prototype.show=function(){this.modalElement.style.visibility="visible"},e.prototype.addContent=function(e){var t=document.createElement("div");t.appendChild(e);var n=t.firstChild;return this.contentElement.appendChild(n),n},e.prototype.deleteCreativeContent=function(){this.contentElement.innerHTML=""},e}(),_=function(e){function t(t){var n=e.call(this,l.INTERSTITIAL,t)||this;return n.modal=null,n}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return o.sent(),this.modal=new O(!1),this.modal.addContent(this.videoPlayer.getHTMLWrapper()),[2]}}))}))},t.prototype.show=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent()).success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.showAd=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:this.isAdAvailable&&!this.isShowingAd()&&this.modal.show(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.prototype.show.call(this)];case 2:return[2,t.sent()];case 3:return this.isShowingAd()||this.modal.close(),[7];case 4:return[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.modal.close()},t}(M),k=function(e){function t(t){var n=e.call(this,l.REWARD,t)||this;return n.modal=null,n}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return o.sent(),this.modal=new O(!1),this.modal.addContent(this.videoPlayer.getHTMLWrapper()),[2]}}))}))},t.prototype.show=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.isAdAvailable?[3,2]:[4,this.preload()];case 1:return(e=t.sent()).success&&this.isAdAvailable?[2,this.showAd()]:[2,e];case 2:return[2,this.showAd()]}}))}))},t.prototype.showAd=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:this.isAdAvailable&&!this.isShowingAd()&&this.modal.show(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.prototype.show.call(this)];case 2:return[2,t.sent()];case 3:return this.isShowingAd()||this.modal.close(),[7];case 4:return[2]}}))}))},t.prototype.reset=function(){e.prototype.reset.call(this),this.modal.close()},t}(M),x=function(e){function t(t){var n=e.call(this,l.BANNER,S.DISPLAY,t)||this;return n.banners=[],n}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){var o,r=this;return s(this,(function(s){switch(s.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return s.sent(),this.adUnits?(o=[],this.adUnits.forEach((function(e){var n=JSON.parse(JSON.stringify(t));n.config.adUnit=e,n.config.adUnits=null;var i=new F(u.isTabVisible,r.logger);o.push(i.init(n,r.controls,r.tracker).then((function(){r.banners.push(i)}),(function(e){var t;null===(t=r.logger)||void 0===t||t.error(e)})))})),[4,Promise.allSettled(o).then((function(){return r.isAdAvailable=!0}))]):[3,3];case 2:s.sent(),this.scheduledRefresh(),s.label=3;case 3:return[2]}}))}))},t.prototype.show=function(){return r(this,void 0,void 0,(function(){var t,n,i,o;return s(this,(function(r){switch(r.label){case 0:return[4,e.prototype.show.call(this)];case 1:if(!(t=r.sent()).success||!this.banners)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),n=this.banners.filter((function(e){return e.isVisible()&&e.isRefreshable()})),i=n.map((function(e){return e.show()})),this.auction(n),[4,Promise.all(i)];case 3:return r.sent(),[3,5];case 4:return o=r.sent(),[2,{success:!1,code:b.ON_SHOW,message:o.message}];case 5:return[2,t]}}))}))},t.prototype.auction=function(e){var t,n,i=this;if(e&&!(e.length<1)){var o={aps:!1,prebid:!1},r=Math.max.apply(Math,e.map((function(e){return e.getAdUnit().timeout}))),s=u.generateUUID(),a=function(){o.aps&&o.prebid&&d()},d=function(){window.googletag.cmd.push((function(){var t;window.googletag.pubads().setRequestNonPersonalizedAds(i.getUserP4Consent()?0:1),window.googletag.pubads().setPrivacySettings({limitedAds:!i.getUserP1Consent()}),e.forEach((function(e){return e.setTargeting({hb_aid:s})}));var n=e.map((function(e){return e.getAdSlot()})).filter((function(e){return e}));try{window.googletag.pubads().refresh(n)}catch(n){return e.forEach((function(e){return e.reset()})),void(null===(t=i.logger)||void 0===t||t.error(n))}}))};try{null===(t=this.tracker)||void 0===t||t.requestingAd(this.getFullName(),{hb_aid:s}),function(){var t=e.map((function(e){return e.getAdUnit()})).filter((function(e){return e&&e.bids&&e.bids.length}));if(!(t&&t.length&&window.pbjs))return o.prebid=!0,void a();window.pbjs.que.push((function(){var e={auctionId:s,adUnits:t,timeout:r,bidsBackHandler:function(){window.googletag.cmd.push((function(){window.pbjs.initAdserverSet=!0,o.prebid=!0,window.pbjs.setTargetingForGPTAsync(),a()}))}};try{window.pbjs.requestBids(e)}catch(e){o.prebid=!0,a()}}))}(),function(){var t=e.map((function(e){return e.getAdUnit()})).filter((function(e){return e&&e.uam})).map((function(e){return u.toUAMAdUnit(e)}));if(!(t&&t.length&&window.apstag))return o.aps=!0,void a();window.apstag.fetchBids({slots:t,timeout:r},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),o.aps=!0,a()}))}))}()}catch(e){return void(null===(n=this.logger)||void 0===n||n.error(e))}}},t.prototype.scheduledRefresh=function(){var e=this;setTimeout((function(){return r(e,void 0,void 0,(function(){var e=this;return s(this,(function(t){return window.pbjs.que.push((function(){window.googletag.cmd.push((function(){e.show().finally((function(){return e.scheduledRefresh()}))}))})),[2]}))}))}),200)},t.prototype.canPreload=function(){return!1},t.prototype.reset=function(){},t.prototype.isReady=function(){return!0},t}(U),F=function(e){function t(t,n){var i=e.call(this,l.BANNER,n)||this;return i.adShownPromise=null,i.refreshInterval=31e3,i.lastRefreshed=null,i.impressionViewed=!1,i.isTabVisible=t,i}return i(t,e),t.prototype.init=function(t,n,i){return r(this,void 0,void 0,(function(){var o=this;return s(this,(function(r){switch(r.label){case 0:return[4,e.prototype.init.call(this,t,n,i)];case 1:return r.sent(),this.adUnit.refresh&&(this.refreshInterval=this.adUnit.refresh),window.googletag.cmd.push((function(){var e,t;if(window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t;if(o.adSlot===e.slot){if(o.adShownPromise){var n={success:!0,code:y.COMPLETED};o.adShownPromise.resolve(n),o.adShownPromise=null,o.impressionViewed=!!e.isEmpty}null===(t=o.tracker)||void 0===t||t.finishedAd(e.isEmpty?w.NOFILL:w.SUCCESS,o.getAdUnitCode(),o.getAdSlotTargeting())}})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){o.adSlot===e.slot&&(o.impressionViewed=!0)})),o.adSlot=window.googletag.defineSlot(o.getAdUnitCode(),null===(t=null===(e=o.adUnit.mediaTypes)||void 0===e?void 0:e.banner)||void 0===t?void 0:t.sizes,o.getAdUnitCode()),!o.adSlot)throw o.isInitialized=!1,new Error("unable to create banner ad slot");o.adSlot.addService(window.googletag.pubads()),u.addPrebidAdUnit(o.adUnit)})),[2]}}))}))},t.prototype.show=function(){var t,n;return r(this,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return this.isAdAvailable=!0,[4,e.prototype.show.call(this)];case 1:return(i=o.sent())&&i.success?this.adShownPromise?(null===(t=this.logger)||void 0===t||t.debug("".concat(this.getFullName(),": already fetching ad")),[2,{success:!1,code:b.ON_SHOW,message:"".concat(this.getFullName(),": already fetching ad")}]):(null===(n=this.tracker)||void 0===n||n.willShowAd(!0,this.getAdUnitCode(),this.getAdSlotTargeting()),this.lastRefreshed=new Date,this.adShownPromise=new c,[2,this.adShownPromise.promise]):[2,i]}}))}))},t.prototype.reset=function(){if(this.adShownPromise){var e={success:!0,code:y.COMPLETED};this.adShownPromise.resolve(e),this.adShownPromise=null}},t.prototype.canPreload=function(){return!1},t.prototype.getAdSlotHTMLElement=function(){var e;if(this.getAdUnitCode())try{return null===(e=null===window||void 0===window?void 0:window.document)||void 0===e?void 0:e.getElementById(this.getAdUnitCode())}catch(e){return null}},t.prototype.getAdUnit=function(){return this.adUnit},t.prototype.getAdSlot=function(){return this.adSlot},t.prototype.isVisible=function(){return this.adSlot&&u.isHTMLElementVisible(this.getAdSlotHTMLElement())},t.prototype.isRefreshable=function(){return null==this.lastRefreshed||(new Date).getTime()-this.lastRefreshed.getTime()>this.refreshInterval&&this.impressionViewed&&this.isTabVisible()},t}(L),V=function(){function e(){this.bootstrapMapper={"fran#display#interstitial":{f:e.bootstrapDisplayInterstitial,Type:D},"fran#display#reward":{f:e.bootstrapDisplayReward,Type:N},"fran#display#banner":{f:e.bootstrapDisplayBanner,Type:x},"fran#video#interstitial":{f:e.bootstrapVideoAdProvider,Type:_},"fran#video#reward":{f:e.bootstrapVideoAdProvider,Type:k}}}return e.prototype.bootstrap=function(e,t){var n=this;e=e||{};var i=[];return t.forEach((function(t){t in n.bootstrapMapper&&(i.push(new n.bootstrapMapper[t].Type),n.bootstrapMapper[t].f(e))})),i},e.bootstrapDisplayInterstitial=function(e){u.loadGPT(e.gpt),u.loadApsTag(e.uam),u.loadPrebid(e.prebid),u.initializePrebid(e.prebid)},e.bootstrapDisplayReward=function(e){u.loadGPT(e.gpt)},e.bootstrapDisplayBanner=function(e){u.loadGPT(e.gpt),u.loadApsTag(e.uam),u.loadPrebid(e.prebid),u.initializePrebid(e.prebid)},e.bootstrapVideoAdProvider=function(e){u.loadIMA(e.ima),u.loadApsTag(e.uam),u.loadPrebid(e.prebid),u.initializePrebid(e.prebid)},e}(),z=function(){function e(){}return e.prototype.ensureInit=function(e){var t=this;if(!this.adProviders)if(this.isFranConfigured(e)){var n=e.vendors.fran,i=e.providers.map((function(e){return t.expandProviderAdUnitCode(e.config),e.name+"#"+e.type})),o=new V;this.adProviders=o.bootstrap(n,i)}else this.adProviders=[]},e.prototype.getProviders=function(e){return this.ensureInit(e),this.adProviders},e.prototype.setDeviceId=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setDeviceId(e)}))},e.prototype.setVolume=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setVolume(e)}))},e.prototype.setUserP1Consent=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setUserP1Consent(e)}))},e.prototype.setUserP4Consent=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setUserP4Consent(e)}))},e.prototype.setVendorConsents=function(e){var t;null===(t=this.adProviders)||void 0===t||t.forEach((function(t){return t.setVendorConsents(e)}))},e.prototype.setChannelId=function(e){this.channelId=e},e.prototype.isFranConfigured=function(e){var t;return null!=(null===(t=null==e?void 0:e.vendors)||void 0===t?void 0:t.fran)&&null!=(null==e?void 0:e.providers)},e.prototype.expandProviderAdUnitCode=function(t){var n=this,i=function(t){if(t&&t.code&&n.channelId){var i=e.PARTNER_ID+"-"+n.channelId,o=n.isFunction(t.code)?t.code():t.code,r=o.split("/").pop();t.code=o.replace(r,i+"-"+r)}};t&&t.adUnit&&i(t.adUnit),t&&t.adUnits&&t.adUnits.forEach((function(e){return i(e)}))},e.prototype.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.PARTNER_ID="frvr",e}(),j=function(){function e(){}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return s(this,(function(e){return this.logger=this.logger||t.instance.logger,[2]}))}))},e.prototype.setProgress=function(e){var t,n=(100*e).toFixed(1);null===(t=this.logger)||void 0===t||t.info("[channel-web] progress: ".concat(n,"%"))},e.prototype.complete=function(){return r(this,void 0,void 0,(function(){return s(this,(function(e){return this.logger.info("[channel-web] complete"),[2]}))}))},e}(),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.code="USER_INPUT",t.message="User rejected prompt to add to home screen",t}return i(t,e),t}(Error),q=function(){function e(){this.calledAlready=!1}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e=this;return s(this,(function(n){return this.logger=this.logger||t.instance.logger,this.tracker=this.tracker||t.instance.tracker,"serviceWorker"in navigator&&(navigator.serviceWorker.register("./service-worker.js").then((function(t){var n;null===(n=e.logger)||void 0===n||n.debug("ServiceWorker registration successful with scope: ",t.scope)}),(function(t){var n;null===(n=e.logger)||void 0===n||n.debug("ServiceWorker registration failed: ",t)})),window.addEventListener("beforeinstallprompt",(function(t){var n,i;return null===(n=e.logger)||void 0===n||n.debug("beforeinstallprompt event received: ",t),e.installPromptEvent||(null===(i=e.tracker)||void 0===i||i.logEvent("PWA Before Install Prompt",{}),t.preventDefault(),e.installPromptEvent=t),!1}))),[2]}))}))},e.prototype.canCreateShortcut=function(){return r(this,void 0,void 0,(function(){return s(this,(function(e){return[2,!!this.installPromptEvent&&!this.calledAlready]}))}))},e.prototype.createShortcut=function(){var e,t,n,i;return r(this,void 0,void 0,(function(){var o;return s(this,(function(r){switch(r.label){case 0:return null===(e=this.tracker)||void 0===e||e.logEvent("PWA Install Prompt",{}),this.calledAlready=!0,[4,this.installPromptEvent.prompt()];case 1:if(o=r.sent(),null===(t=this.logger)||void 0===t||t.debug("PWA Install Prompt returned: ",o),"accepted"!==o.outcome)throw null===(i=this.tracker)||void 0===i||i.logEvent("PWA Dismissed",{}),new H;return null===(n=this.tracker)||void 0===n||n.logEvent("PWA Installed",{}),[2]}}))}))},e}(),W=function(){function e(){}return e.prototype.isIOS=function(){return/(ipod|iphone|ipad)/i.test(navigator.userAgent)||/(Macintosh)/i.test(navigator.userAgent)&&"ontouchend"in document},e.prototype.isAndroid=function(){return/(android)/i.test(navigator.userAgent)&&!/(Windows)/i.test(navigator.userAgent)},e.prototype.configure=function(e){this.config=e},e.prototype.needsConfiguration=function(){return!0},e.prototype.canMoveToMobile=function(){var e,t;return r(this,void 0,void 0,(function(){return s(this,(function(n){return(this.isIOS()&&(null===(e=this.config)||void 0===e?void 0:e.iosAppId)||this.isAndroid())&&(null===(t=this.config)||void 0===t?void 0:t.id)?[2,!0]:[2,!1]}))}))},e.prototype.moveToMobile=function(){return r(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){return e=this.config,this.isIOS()?window.location.href="https://apps.apple.com/app/"+(null==e?void 0:e.id)+"/id"+(null==e?void 0:e.iosAppId)+"?mt=1":this.isAndroid()&&(t="https://play.google.com/store/apps/details?id=com.frvr."+(null==e?void 0:e.id),navigator&&navigator.getInstalledRelatedApps?navigator.getInstalledRelatedApps().then((function(n){n.length>0?window.location.href="intent://".concat(null==e?void 0:e.id,"/#Intent;scheme=frvr;package=com.frvr.").concat(null==e?void 0:e.id,";end"):window.location.href=t})).catch((function(){console.warn("Related Apps API is not supported. Redirecting to Google Play."),window.location.href=t})):window.location.href=t),[2]}))}))},e}(),B=function(){function e(e,t){this.pixelId=e,this.logger=t,this.hasInitEventBeenSent=!1}return e.prototype.init=function(t){return r(this,void 0,void 0,(function(){var n=this;return s(this,(function(i){return this.addFacebookMetaPixelQueue(),t.onConsentChanged((function(t){(t&e.REQUIRED_CONSENT_FLAGS)===e.REQUIRED_CONSENT_FLAGS&&n.addFacebookMetaPixelLoader()})),[2]}))}))},e.prototype.getName=function(){return"metapixel"},e.prototype.send=function(e,t,n,i){switch(e){case"page_loading":this.fbqTrack("PageView");break;case"iap_request_payment_success":this.fbqTrack("Purchase",{currency:n.currencyCode,value:n.priceValue})}},e.prototype.fbqTrack=function(e,t){var n,i,o;window.fbq?(this.hasInitEventBeenSent||(null===(i=this.logger)||void 0===i||i.debug("[metapixel-analytics] tracking fbq event","init",this.pixelId),window.fbq("init",this.pixelId),this.hasInitEventBeenSent=!0),null===(o=this.logger)||void 0===o||o.debug("[metapixel-analytics] tracking fbq event",e,t),void 0!==t?window.fbq("track",e,t):window.fbq("track",e)):null===(n=this.logger)||void 0===n||n.error("[metapixel-analytics] window.fbq not found, enqueueing event")},e.prototype.addFacebookMetaPixelQueue=function(){var e;if(!window.fbq){null===(e=this.logger)||void 0===e||e.debug("[metapixel-analytics] installing metapixel queue");this.appendScript("\n    !function(f,b,e,v,n,t,s)\n    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n    n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n    n.queue=[];}(window, document,'script',\n    'https://connect.facebook.net/en_US/fbevents.js');\n    ")}},e.prototype.addFacebookMetaPixelLoader=function(){var e;if(!this.hasScriptLoaderBeenAppended){null===(e=this.logger)||void 0===e||e.debug("[metapixel-analytics] installing metapixel loader");this.appendScript("\n    !function(f,b,e,v,n,t,s)\n    {t=b.createElement(e);t.async=!0;\n    t.src=v;s=b.getElementsByTagName(e)[0];\n    s.parentNode.insertBefore(t,s)}(window, document,'script',\n    'https://connect.facebook.net/en_US/fbevents.js');\n    "),this.hasScriptLoaderBeenAppended=!0}},e.prototype.appendScript=function(e){var t=document.createElement("script"),n=document.createTextNode(e);t.appendChild(n),window.document.getElementsByTagName("head")[0].appendChild(t)},e.REQUIRED_CONSENT_FLAGS=t.ConsentOptions.P4PersonalizedAds|t.ConsentOptions.P5PersonalizedContentProfile|t.ConsentOptions.P7MeasureAdPerformance,e}(),G=function(){function e(t,n,i,o){this.channelId=t,this.platformId=n,this.gameId=i,this.remoteUrl=null!=o?o:e.DEFAULT_REMOTE_ADS_CONFIG_URL}return e.prototype.get=function(){return r(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:if(!(this.gameId&&this.platformId&&this.channelId))throw new Error("gameId, platformId and channelId are required to retrieve remote ads config");return[4,fetch(this.getRemoteConfigUrl())];case 1:if(!(e=t.sent()).ok)throw new Error(e.statusText);return[4,e.json()];case 2:return[2,t.sent()]}}))}))},e.prototype.getRemoteConfigUrl=function(){return this.remoteUrl.replace("{GAME}",this.gameId).replace("{PLATFORM}",this.platformId).replace("{CHANNEL}",this.channelId)},e.DEFAULT_REMOTE_ADS_CONFIG_URL="https://fran-cdn.frvr.com/configs/ads/{GAME}/{PLATFORM}/{CHANNEL}/sdk.json",e}(),J=function(){function e(e){this.adConfigProvider=e,this.fran=new z,this.fran.setChannelId(t.inMemoryChannelMapper.getChannel()),this.characteristics=o(o({},t.defaultCharacteristics),{hasDedicatedLoadingScreen:!1})}return e.prototype.getId=function(){return"web"},e.prototype.getBootstrapper=function(){return new j},e.prototype.getConsentProvider=function(){return A},e.prototype.getAnalyticsProviders=function(e){var n,i={pixelId:null===(n=null==e?void 0:e.metapixel)||void 0===n?void 0:n.pixelId},o=i.pixelId&&new B(i.pixelId);return a([new t.FRVRAnalytics],o?[o]:[],!0)},e.prototype.getAnalyticsIDProvider=function(e){return new t.WebIDProvider(e)},e.prototype.getAdsProviders=function(e){return a([],this.fran.getProviders(e),!0)},e.prototype.getShortcutProvider=function(){return new q},e.prototype.getLocalStorageProvider=function(){return t.buildStorageProvider([t.WebLocalStorageProvider.providerName,f.providerName])},e.prototype.getTrackerContextProvider=function(e){return t.buildTrackerWebContextProvider(e)},e.prototype.getCrossplay=function(){return new W},e.prototype.getCharacteristics=function(){return this.characteristics},e.prototype.getAdsConfig=function(e){var n,i;return r(this,void 0,void 0,(function(){var o,r;return s(this,(function(s){switch(s.label){case 0:if(this.adConfigProvider||(this.adConfigProvider=new G(t.inMemoryChannelMapper.getChannel(),this.getId(),null===(n=t.instance.config)||void 0===n?void 0:n.gameId)),o=e,!(null==e?void 0:e.remote))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.adConfigProvider.get()];case 2:return o=s.sent(),[3,4];case 3:return r=s.sent(),null===(i=t.instance.logger)||void 0===i||i.error(r),[3,4];case 4:return[2,o]}}))}))},e}();return t.instance&&t.instance.setChannel(new J),e.WebChannel=J,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FRVRSDK);
//# sourceMappingURL=frvr-channel-web.min.js.map
